<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=referrer content="no-referrer-when-downgrade">
<title>回溯算法(理论篇) | itachi's Blog</title>
<meta property="og:title" content="回溯算法(理论篇) - itachi's Blog">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2021-07-24T00:00:00+08:00">
<meta property="article:modified_time" content="2021-07-24T00:00:00+08:00">
<meta name=Keywords content="Blog">
<meta name=description content="回溯算法(理论篇)">
<meta name=author content="阿林">
<meta property="og:url" content="https://itachi.xyz/post/backtrace-theory.html">
<link rel="shortcut icon" href=/favicon.ico type=image/x-icon>
<link rel=stylesheet href=/css/normalize.css>
<link rel=stylesheet href=/css/style.css>
<script type=text/javascript src=//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js></script>
</head>
<body>
<header id=header class=clearfix>
<div class=container>
<div class=col-group>
<div class=site-name>
<a id=logo href=https://itachi.xyz>
itachi's Blog
</a>
<p class=description>昨夜梦 今辰你 明日思 | Blog about life and learning.</p>
</div>
<div>
<nav id=nav-menu class=clearfix>
<a class=current href=https://itachi.xyz>首页</a>
<a href=https://itachi.xyz/archives/ title=归档>归档</a>
<a href=https://itachi.xyz/about/ title=关于>关于</a>
<a href=https://itachi.xyz/tags/ title=标签>标签</a>
<a href=https://itachi.xyz/onenote/ title=一言>一言</a>
</nav>
</div>
</div>
</div>
</header>
<div id=body>
<div class=container>
<div class=col-group>
<div class=col-8 id=main>
<div class=res-cons>
<article class=post>
<header>
<h1 class=post-title>回溯算法(理论篇)</h1>
</header>
<date class="post-meta meta-date">
2021年7月24日
</date>
<div class=post-meta>
<span>|</span>
<span class=meta-category><a href=/categories/technology>Technology</a></span>
</div>
<div class=post-meta>
<span id=busuanzi_container_page_pv>|<span id=busuanzi_value_page_pv></span><span>
阅读</span></span>
</div>
<div class=post-content>
<p>回溯法也可以叫做回溯搜索法，它是一种搜索的方式。回溯是递归的副产品，只要有递归就会有回溯。同时也也要知道溯法并不是什么高效的算法，它本质是穷举，然后筛选出符合条件的结果。如果想提高回溯的<strong>一些</strong>效率，可以加一些剪枝的操作(什么是剪枝呢?)</p>
<h2 id=回溯算法解决的问题>回溯算法解决的问题</h2>
<ul>
<li>组合问题：N个数里面按一定规则找出K个数的集合
<ul>
<li><a href=https://leetcode-cn.com/problems/combinations/>77.组合</a></li>
<li><a href=https://leetcode-cn.com/problems/letter-combinations-of-a-phone-number>17.电话号码的字母组合</a></li>
<li><a href=https://leetcode-cn.com/problems/combination-sum>39.组合总和</a></li>
<li><a href=https://leetcode-cn.com/problems/combination-sum-ii>40.组合总和II</a></li>
<li><a href=https://leetcode-cn.com/problems/combination-sum-iii>216.组合总和III</a></li>
</ul>
</li>
<li>切割问题：一个字符串按一定的规则有几种切割方式
<ul>
<li><a href=https://leetcode-cn.com/problems/palindrome-partitioning>131.分割回文串</a></li>
<li><a href=https://leetcode-cn.com/problems/restore-ip-addresses>93.复原IP地址</a></li>
</ul>
</li>
<li>子集问题：一个N个数的集合里面有多少符合条件的子集
<ul>
<li><a href=https://leetcode-cn.com/problems/subsets>78.子集</a></li>
<li><a href=https://leetcode-cn.com/problems/subsets-ii>90.子集II</a></li>
</ul>
</li>
<li>排列问题：N个数按照一定的规则全排列，有几种排列方式
<ul>
<li><a href=https://leetcode-cn.com/problems/permutations>46.全排列</a></li>
<li><a href=https://leetcode-cn.com/problems/permutations-ii>47.全排列II</a></li>
</ul>
</li>
<li>棋盘问题：N皇后，解数独
<ul>
<li><a href=https://leetcode-cn.com/problems/n-queens>51.N皇后</a></li>
<li><a href=https://leetcode-cn.com/problems/sudoku-solver>37.解数独</a></li>
</ul>
</li>
<li>其他问题
<ul>
<li><a href=https://leetcode-cn.com/problems/increasing-subsequences>491.递增子序列</a></li>
<li><a href=https://leetcode-cn.com/problems/reconstruct-itinerary>332.重新安排行程</a></li>
</ul>
</li>
</ul>
<p>其中，<strong>组合</strong>不强调元素的顺序，<strong>排列</strong>强调元素的顺序。例如:{1,2},{2,1}在组合时指一个集合，而在排列时指两个集合。换句话说，排列有序，组合无序。</p>
<h2 id=回溯算法详解>回溯算法详解</h2>
<p>回溯算法解决的问题，实质上就是一个决策树的遍历过程，需要思考3个问题：</p>
<ol>
<li>路径：也就是已经做出的选择</li>
<li>选择列表：也就是当前可以做的选择</li>
<li>结束条件：也就是达到决策树底层，无法再做选择的条件</li>
</ol>
<p>回溯算法的框架：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>List<span style=color:#f92672>&lt;</span>List<span style=color:#f92672>&lt;?&gt;&gt;</span> result <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;</span>List<span style=color:#f92672>&lt;?&gt;&gt;();</span>
<span style=color:#66d9ef>void</span> <span style=color:#a6e22e>backtrack</span><span style=color:#f92672>(</span>路径<span style=color:#f92672>,</span>选择列表<span style=color:#f92672>){</span>

	<span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>满足结束条件<span style=color:#f92672>)</span> <span style=color:#f92672>{</span> 
		result<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span>路径<span style=color:#f92672>);</span> 
		<span style=color:#66d9ef>return</span><span style=color:#f92672>;</span>
	<span style=color:#f92672>}</span>

    <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span>选择 in 选择列表<span style=color:#f92672>){</span>
        做选择<span style=color:#f92672>;</span>
        backtrack<span style=color:#f92672>(</span>路径<span style=color:#f92672>,</span>选择列表<span style=color:#f92672>);</span>
        撤销选择<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><p>回溯算法的核心：for循环里面的递归，再递归调用之前【做选择】，递归结束之后【撤销选择】，简单的说就是：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#75715e>// 做选择
</span><span style=color:#75715e></span>将该选择从选择列表中移除<span style=color:#f92672>;</span>
路径<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span>选择<span style=color:#f92672>);</span>
backtrack<span style=color:#f92672>(</span>路径<span style=color:#f92672>,</span>选择列表<span style=color:#f92672>);</span>

<span style=color:#75715e>// 撤销选择
</span><span style=color:#75715e></span>路径<span style=color:#f92672>.</span><span style=color:#a6e22e>remove</span><span style=color:#f92672>(</span>选择<span style=color:#f92672>);</span>
将该选择再加入到选择列表<span style=color:#f92672>;</span>
</code></pre></div>
</div>
<div class=post-archive>
<ul class=post-copyright>
<li><strong>原文作者：</strong><a rel=author href=https://itachi.xyz>阿林</a></li>
<li style=word-break:break-all><strong>原文链接：</strong><a href=https://itachi.xyz/post/backtrace-theory.html>https://itachi.xyz/post/backtrace-theory.html</a></li>
<li><strong>版权声明：</strong>本作品采用<a rel=license href=https://creativecommons.org/licenses/by-nc-nd/4.0/>知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可，非商业转载请注明出处（作者，原文链接），商业转载请联系作者获得授权。</li>
</ul>
</div>
<br>
<div class=post-archive>
</div>
<div class="post-meta meta-tags">
<ul class=clearfix>
<li><a href=/tags/%E7%AE%97%E6%B3%95>算法</a></li>
<li><a href=/tags/%E5%9B%9E%E6%BA%AF>回溯</a></li>
</ul>
</div>
</article>
<div id=gitalk-container></div>
<link rel=stylesheet href=https://unpkg.com/gitalk/dist/gitalk.css>
<script src=https://unpkg.com/gitalk/dist/gitalk.min.js></script>
<script>var gitalk=new Gitalk({id:decodeURI(window.location.pathname),clientID:'30ffb17e5ccaa5f1830e',clientSecret:'67ba9ccd9df5c8f402f46b2462f09d644219c04f',repo:'itachi1912.github.io',owner:'itachi1912',admin:['itachi1912'],labels:['gitment'],perPage:25});gitalk.render('gitalk-container')</script>
</div>
</div>
<div id=secondary>
<section class=widget>
<form id=search action=https://itachi.xyz/search/ method=get accept-charset=utf-8 target=_blank _lpchecked=1>
<input type=text name=q maxlength=20 placeholder=Search>
<input type=hidden name=sitesearch value=https://itachi.xyz>
<button type=submit class="submit icon-search"></button>
</form>
</section>
<section class=widget>
<h3 class=widget-title><a href=/categories/>分类</a></h3>
<ul class=widget-list>
<li><a href=https://itachi.xyz/categories/life/>Life (7)</a></li>
<li><a href=https://itachi.xyz/categories/technology/>Technology (11)</a></li>
</ul>
</section>
<section class=widget>
<h3 class=widget-title>最近文章</h3>
<ul class=widget-list>
<li>
<a href=https://itachi.xyz/post/get-offer-01.html title=剑指offer计划>剑指offer计划</a>
</li>
<li>
<a href=https://itachi.xyz/post/no-title-about-996.html title=无题>无题</a>
</li>
<li>
<a href=https://itachi.xyz/post/lks-inspiration.html title=观看@-Lks-视频的启示>观看@-Lks-视频的启示</a>
</li>
<li>
<a href=https://itachi.xyz/post/dp-observer-pattern.html title="<设计模式>-观察者模式">&lt;设计模式>-观察者模式</a>
</li>
<li>
<a href=https://itachi.xyz/post/dp-strategy-pattern.html title="<设计模式>-策略模式">&lt;设计模式>-策略模式</a>
</li>
<li>
<a href=https://itachi.xyz/post/powerful-learning.html title=高效学习的几点建议>高效学习的几点建议</a>
</li>
<li>
<a href=https://itachi.xyz/post/high-performance-mysql-4.html title=《高性能MySQL》读书笔记-4-创建高性能索引1>《高性能MySQL》读书笔记-4-创建高性能索引1</a>
</li>
<li>
<a href=https://itachi.xyz/post/high-performance-mysql-3.html title=《高性能MySQL》读书笔记-3-Schema与数据类型优化2>《高性能MySQL》读书笔记-3-Schema与数据类型优化2</a>
</li>
<li>
<a href=https://itachi.xyz/post/high-performance-mysql-2.html title=《高性能MySQL》读书笔记-2-Schema与数据类型优化1>《高性能MySQL》读书笔记-2-Schema与数据类型优化1</a>
</li>
<li>
<a href=https://itachi.xyz/post/high-performance-mysql-1.html title=《高性能MySQL》读书笔记-1-MySQL架构与历史>《高性能MySQL》读书笔记-1-MySQL架构与历史</a>
</li>
</ul>
</section>
<section class=widget>
<h3 class=widget-title>友情链接</h3>
<ul class=widget-list>
<li>
<a target=_blank href=https://www.acdiao.com title=AC的简单博客>AC的简单博客</a>
</li>
<li>
<a target=_blank href=https://img.tujidu.com title=AC大佬的图床>AC大佬的图床</a>
</li>
<li>
<a target=_blank href=https://blog.cetcweb.cn/ title=记录实验过程>记录实验过程</a>
</li>
<li>
<a target=_blank href=https://qitablog.com/ title=奇它博客>奇它博客</a>
</li>
<li>
<a target=_blank href=http://laihongquan.com/ title=Ezio>Ezio</a>
</li>
<li>
<a target=_blank href=https://luckly.work/ title=早起的年轻人>早起的年轻人</a>
</li>
<li>
<a target=_blank href=https://geshanzsq.com title=格姗知识圈>格姗知识圈</a>
</li>
</ul>
</section>
<section class=widget>
<h3 class=widget-title>其它</h3>
<ul class=widget-list>
<li><a href=https://itachi.xyz/index.xml>文章 RSS</a></li>
</ul>
</section>
</div>
</div>
<footer id=footer>
<div style=font-size:.7em>
Powered by <a href=https://gohugo.io/ target=_black rel=nofollow>Hugo</a>
and
Theme Based On <a href=https://www.flysnow.org/ target=_black>飞雪无情</a>
</div>
<br>
<div style=font-size:.7em>
&copy; 2021 Made with <span style=color:red>❤</span> By 阿林</a>
</div>
</footer>
<script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:!0}}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
<a id=rocket href=#top></a>
<script type=text/javascript src="/js/totop.js?v=0.0.0" async></script>
<script type=text/javascript src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async></script>
</div>
</div>
</body>
</html>