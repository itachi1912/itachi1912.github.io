<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=referrer content="no-referrer-when-downgrade">
<title>OSTEP-4(抽象：进程) | itachi's Blog</title>
<meta property="og:title" content="OSTEP-4(抽象：进程) - itachi's Blog">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2021-11-14T00:00:00+08:00">
<meta property="article:modified_time" content="2021-11-14T00:00:00+08:00">
<meta name=Keywords content="Blog">
<meta name=description content="OSTEP-4：抽象：进程">
<meta name=author content="阿林">
<meta property="og:url" content="https://itachi.xyz/post/ostep-04.html">
<link rel="shortcut icon" href=/favicon.ico type=image/x-icon>
<link rel=stylesheet href=/css/normalize.css>
<link rel=stylesheet href=/css/style.css>
<script type=text/javascript src=//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js></script>
</head>
<body>
<header id=header class=clearfix>
<div class=container>
<div class=col-group>
<div class=site-name>
<a id=logo href=https://itachi.xyz>
itachi's Blog
</a>
<p class=description>昨夜梦 今辰你 明日思 | Blog about life and learning.</p>
</div>
<div>
<nav id=nav-menu class=clearfix>
<a class=current href=https://itachi.xyz>首页</a>
<a href=https://itachi.xyz/archives/ title=归档>归档</a>
<a href=https://itachi.xyz/about/ title=关于>关于</a>
<a href=https://itachi.xyz/tags/ title=标签>标签</a>
<a href=https://itachi.xyz/onenote/ title=一言>一言</a>
</nav>
</div>
</div>
</div>
</header>
<div id=body>
<div class=container>
<div class=col-group>
<div class=col-8 id=main>
<div class=res-cons>
<article class=post>
<header>
<h1 class=post-title>OSTEP-4(抽象：进程)</h1>
</header>
<date class="post-meta meta-date">
2021年11月14日
</date>
<div class=post-meta>
<span>|</span>
<span class=meta-category><a href=/categories/technology>Technology</a></span>
</div>
<div class=post-meta>
<span id=busuanzi_container_page_pv>|<span id=busuanzi_value_page_pv></span><span>
阅读</span></span>
</div>
<div class=post-content>
<blockquote>
<p>人类的悲欢并不相通，我只觉得他们吵闹。</p>
<p>——鲁迅《而已集·小杂感》。</p>
</blockquote>
<p>本章讨论操作系统提供的基本的抽象—— 进程。进程的非正式定义非常简单：进程就是运行中的程序。程序本身是没有生命周期的，它只是存在磁盘上面的一些指令（也可能 是一些静态数据）。是操作系统让这些字节运行起来，让程序发挥作用。</p>
<p>操作系统通过虚拟化CPU来实现有许多个CPU的假象，实现了在操作系统之上同时运行多个程序。为了实现多个程序“同时运行”，操作系统让一个进程只运行一个时间片，然后迅速切换到其他进程。</p>
<p>这被称为<code>时分共享机制</code>，即通过允许资源由一个实体使用一小段时间，然后又另一个实体使用一小段时间，如此往复，便实现了资源的共享。与之对应的还有<code>空分共享机制</code>，例如磁盘可以将不同的块分给不同的文件。</p>
<p>操作系统需要一些<code>低级机制</code>和<code>高级策略</code>来更好的实现资源的虚拟化：</p>
<ul>
<li>低级机制：可以理解为操作系统解决“怎么做”的手段，例如，操作系统怎么实现上下文切换？</li>
<li>高级策略：可以理解为操作系统解决“选择谁”的手段，例如，操作系统当前应该执行哪个程序？</li>
</ul>
<h4 id=41-抽象进程>4.1 抽象：进程</h4>
<p>进程：操作系统为正在运行的程序提供的抽象。简单理解为，进程就是正在运行的程序。</p>
<p>程序在运行时可以读取或者更新的内容被称为程序的机器状态。部分机器状态的组成：</p>
<ul>
<li>部分特殊寄存器，例如程序计数器PC、栈指针、帧指针</li>
<li>IO设备</li>
</ul>
<h4 id=42-进程api>4.2 进程API</h4>
<ul>
<li>创建：创建一个新的进程的接口</li>
<li>销毁：强制销毁进程的接口</li>
<li>等待：等待接口，如等待进程停止</li>
<li>其他控制：对进程的其他控制，例如暂停</li>
<li>状态：获取进程的状态信息，例如运行时长等</li>
</ul>
<h4 id=43-进程创建更多细节>4.3 进程创建：更多细节</h4>
<p>创建进程时操作系统需要做很多工作：</p>
<ol>
<li>
<p>操作系统运行进程首先把程序代码和所有静态数据加载到内存中，也就是程序的地址空间里面。</p>
</li>
<li>
<p>接着操作系统为程序的运行时栈分配一些内存，比如参数初始化栈，填充main()函数的参数</p>
</li>
<li>
<p>为程序的堆分配内存</p>
</li>
<li>
<p>进行一些其他的初始化，比如执行IO设备设置</p>
</li>
<li>
<p>启动程序，在入口处运行，即main()OS将CPU的控制权交给进程，从而程序开始运行。</p>
</li>
</ol>
<h4 id=44-程序状态>4.4 程序状态</h4>
<p>程序在给定时间可能处于不同的状态state：</p>
<ul>
<li>运行：进程在处理器上运行</li>
<li>就绪：进程已经准备好运行，但此时操作系统没让它运行</li>
<li>阻塞：例如，一个在运行的进程发起了IO操作，他会被阻塞，让出处理器，其他处于就绪的进程可以被选择运行。</li>
</ul>
<h4 id=45-数据结构>4.5 数据结构</h4>
<p>操作系统是一个程序，和其他程序一样，它也有一些关键的数据结构来跟踪程序的相关信息。例如，进程列表、阻塞进程状态信息等等。</p>
</div>
<div class=post-archive>
<ul class=post-copyright>
<li><strong>原文作者：</strong><a rel=author href=https://itachi.xyz>阿林</a></li>
<li style=word-break:break-all><strong>原文链接：</strong><a href=https://itachi.xyz/post/ostep-04.html>https://itachi.xyz/post/ostep-04.html</a></li>
<li><strong>版权声明：</strong>本作品采用<a rel=license href=https://creativecommons.org/licenses/by-nc-nd/4.0/>知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可，非商业转载请注明出处（作者，原文链接），商业转载请联系作者获得授权。</li>
</ul>
</div>
<br>
<div class=post-archive>
</div>
<div class="post-meta meta-tags">
<ul class=clearfix>
<li><a href=/tags/ostep>OSTEP</a></li>
<li><a href=/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0>读书笔记</a></li>
</ul>
</div>
</article>
<div id=gitalk-container></div>
<link rel=stylesheet href=https://unpkg.com/gitalk/dist/gitalk.css>
<script src=https://unpkg.com/gitalk/dist/gitalk.min.js></script>
<script>var gitalk=new Gitalk({id:decodeURI(window.location.pathname),clientID:'30ffb17e5ccaa5f1830e',clientSecret:'67ba9ccd9df5c8f402f46b2462f09d644219c04f',repo:'itachi1912.github.io',owner:'itachi1912',admin:['itachi1912'],labels:['gitment'],perPage:25});gitalk.render('gitalk-container')</script>
</div>
</div>
<div id=secondary>
<section class=widget>
<form id=search action=https://itachi.xyz/search/ method=get accept-charset=utf-8 target=_blank _lpchecked=1>
<input type=text name=q maxlength=20 placeholder=Search>
<input type=hidden name=sitesearch value=https://itachi.xyz>
<button type=submit class="submit icon-search"></button>
</form>
</section>
<section class=widget>
<h3 class=widget-title><a href=/categories/>分类</a></h3>
<ul class=widget-list>
<li><a href=https://itachi.xyz/categories/life/>Life (8)</a></li>
<li><a href=https://itachi.xyz/categories/technology/>Technology (14)</a></li>
<li><a href=https://itachi.xyz/categories/weekly/>Weekly (2)</a></li>
</ul>
</section>
<section class=widget>
<h3 class=widget-title>最近文章</h3>
<ul class=widget-list>
<li>
<a href=https://itachi.xyz/post/ostep-04.html title=OSTEP-4(抽象：进程)>OSTEP-4(抽象：进程)</a>
</li>
<li>
<a href=https://itachi.xyz/post/weekly-002.html title=生活周刊(第2期)：南京大屠杀幸存者黄刘氏去世>生活周刊(第2期)：南京大屠杀幸存者黄刘氏去世</a>
</li>
<li>
<a href=https://itachi.xyz/post/weekly-001.html title=生活周刊(第1期)：缅怀先辈，铭记历史，吾辈自强！>生活周刊(第1期)：缅怀先辈，铭记历史，吾辈自强！</a>
</li>
<li>
<a href=https://itachi.xyz/post/auto-update-geoip-site.html title=自动更新VV配置文件>自动更新VV配置文件</a>
</li>
<li>
<a href=https://itachi.xyz/post/how-to-fight-boredom.html title=如何对抗无聊，培养属于自己的生活兴趣>如何对抗无聊，培养属于自己的生活兴趣</a>
</li>
<li>
<a href=https://itachi.xyz/post/mount-aliyun-disk-to-local.html title=把阿里云盘挂载到本地使用>把阿里云盘挂载到本地使用</a>
</li>
<li>
<a href=https://itachi.xyz/post/get-offer-01.html title=剑指offer计划>剑指offer计划</a>
</li>
<li>
<a href=https://itachi.xyz/post/no-title-about-996.html title=无题>无题</a>
</li>
<li>
<a href=https://itachi.xyz/post/lks-inspiration.html title=观看@-Lks-视频的启示>观看@-Lks-视频的启示</a>
</li>
<li>
<a href=https://itachi.xyz/post/dp-observer-pattern.html title="<设计模式>-观察者模式">&lt;设计模式>-观察者模式</a>
</li>
</ul>
</section>
<section class=widget>
<h3 class=widget-title>友情链接</h3>
<ul class=widget-list>
<li>
<a target=_blank href=https://www.acdiao.com title=AC的简单博客>AC的简单博客</a>
</li>
<li>
<a target=_blank href=https://img.tujidu.com title=AC大佬的图床>AC大佬的图床</a>
</li>
<li>
<a target=_blank href=https://blog.cetcweb.cn/ title=记录实验过程>记录实验过程</a>
</li>
<li>
<a target=_blank href=https://qitablog.com/ title=奇它博客>奇它博客</a>
</li>
<li>
<a target=_blank href=http://laihongquan.com/ title=Ezio>Ezio</a>
</li>
<li>
<a target=_blank href=https://luckly.work/ title=早起的年轻人>早起的年轻人</a>
</li>
<li>
<a target=_blank href=https://geshanzsq.com title=格姗知识圈>格姗知识圈</a>
</li>
</ul>
</section>
<section class=widget>
<h3 class=widget-title>其它</h3>
<ul class=widget-list>
<li><a href=https://itachi.xyz/index.xml>文章 RSS</a></li>
</ul>
</section>
</div>
</div>
<footer id=footer>
<div style=font-size:.7em>
Powered by <a href=https://gohugo.io/ target=_black rel=nofollow>Hugo</a>
and
Theme Based On <a href=https://www.flysnow.org/ target=_black>飞雪无情</a>
</div>
<br>
<div style=font-size:.7em>
&copy; 2021 Made with <span style=color:red>❤</span> By 阿林</a>
</div>
</footer>
<script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:!0}}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
<a id=rocket href=#top></a>
<script type=text/javascript src="/js/totop.js?v=0.0.0" async></script>
<script type=text/javascript src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async></script>
</div>
</div>
</body>
</html>